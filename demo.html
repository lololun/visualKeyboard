<!DOCTYPE html>

<html>
<head id="Head1" runat="server">
    <title></title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1" />
    <meta charset="utf-8" />
    <link href="Src/Css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="Src/Css/jquery-confirm.css" rel="stylesheet" type="text/css" />
    <link href="Src/Css/simple-input-method.css" rel="stylesheet" type="text/css" />
    <link href="Src/Css/common.css" rel="stylesheet" type="text/css"  />
    <link href="Src/Css/style.css" rel="stylesheet" type="text/css" />
    <script src="Src/Js/jquery-3.1.1.js" type="text/javascript"></script>
    <script src="Src/Js/dict/pinyin_dict_notone.js" type="text/javascript"></script>
    <script src="Src/Js/pinyinUtil.js" type="text/javascript"></script>
    <script src="Src/Js/simple-input-method.js" type="text/javascript"></script>
    <script src="Src/Js/bootstrap.min.js" type="text/javascript"></script>
    <script src="Src/Js/Common.js" type="text/javascript"></script>
    <script src="Src/Js/jquery.base64.js" type="text/javascript"></script>
    <script src="Src/Js/jquery-confirm.js" type="text/javascript"></script>
    <script src="Src/Js/keyboard.js" type="text/javascript"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script>
      <script src="http://apps.bdimg.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript" >
        $(function () {
            checkWrite();
            initkey();
          $("#btn_addmore").click(function () {

              //先判断是否读卡成功，成功后，新增行，添加信息，不成功的话，直接提示信息
              var rownum = $("#sectable .form-group").length - 1;

              /* if (!Checkvalue(rownum,isReturn)) {

              } else {
              // 动态给sectable增加form-group
              // 判断是否有值


              }*/

              var rowindex = $("#sectable .form-group").length; //已经存在固定的一行，行号索引是从1开始；
              var delId = "btn_secdel_" + rowindex; //删除控件的ID
              var addrow = "<div class='form-group' id='secdiv_" + rowindex + "'><label for='inputName' class='col-sm-2 control-label'>姓名：</label><div class='col-sm-3'><input type='text' class='form-control test-input-method' id='txtsecname_" + rowindex + "' placeholder='请输入你的姓名'  name='inputName'></div><label for='inputId' class='col-sm-2 control-label'>年龄：</label><div class='col-sm-3'><input type='text' class='form-control test-input-method' placeholder='请输入你的年龄'  name='inputId' id='txtseczjhm_" + rowindex + "' ></div><button type='button' class='btn btn-info col-sm-1' id='" + delId + "' onclick='secdelInfo(" + rowindex + "," + delId + ")'>删除</button></div>";
              var preindex = parseInt(rowindex) - 1;
              $(addrow).insertAfter($("#sectable .form-group:eq(" + preindex + ")"));

              checkWrite();
          })

          $("#btn_result").click(function () {

              $.confirm({
                  title: '确认!',
                  content: 'Confirm! Confirm! Confirm!',
                  animation: 'rotate',
                  closeAnimation: 'right',
                  animationSpeed: 200, // 0.2 seconds
                  opacity: 0.5,
                  type: 'green',
                  typeAnimated: true,
                  animation: 'zoom',
                  closeAnimation: 'zoom',
                  buttons: {
                      '确定': {
                          btnClass: 'btn-primary',
                          action: function () {
                              $.alert('the user clicked confirm');
                          }
                      },
                      '取消': {
                          btnClass: 'btn-info',
                          action: function () {
                              $.alert('the user clicked cancel');
                          }
                      }
                  }
              });
              keyload(write);
          });

          $("#btn_cancel").click(function () {

              $.confirm({
                  title: '确认!',
                  content: 'Confirm! Confirm! Confirm!',
                  animation: 'rotate',
                  closeAnimation: 'right',
                  animationSpeed: 200, // 0.2 seconds
                  opacity: 0.5,
                  type: 'red',
                  typeAnimated: true,
                  animation: 'zoom',
                  closeAnimation: 'zoom',
                  buttons: {
                      '确定': {
                          btnClass: 'btn-primary',
                          action: function () {
                              $.alert('the user clicked confirm');
                          }
                      },
                      '取消': {
                          btnClass: 'btn-info',
                          action: function () {
                              $.alert('the user clicked cancel');
                          }
                      }
                  }
              });
          });

          $("#btn-diappear").click(function () {
              if ($(this).html() == "点击隐藏键盘") {
                  $("#boardword").css({ "display": "none" });
                  var btnH = $(this).height() + 30;
                  console.log("修改的键盘高度" + btnH);
                  $("#keyboard").css({ "height": btnH },{"background-color":"transparent"});
                  $(this).html("点击显示键盘");
              } else if ($(this).html() == "点击显示键盘") {
                  $("#boardword").css({ "display": "block" });
                  $("#keyboard").css({ "height": 330 + 'px' },{"background-color":"#d4d5da"});
                  $(this).html("点击隐藏键盘");
              }

          })
      })


      function secdelInfo(index,delId) {
          //var secId = "secdiv_" + index; //删除控件的IDid='secdiv_"
          //index 表示需要删除的行索引
          // 动态给sectable减少form-group，行数至少大于1，主查询人身份证信息保留,并且COOKIE中相关记录也要删除
          if (index < 0) {

          }
          else {
              $.confirm({
                  title: '删除确认',
                  content: '确定删除该条记录吗？',
                  animation: 'rotate',
                  closeAnimation: 'right',
                  animationSpeed: 200, // 0.2 seconds
                  opacity: 0.5,
                  type: 'blue',
                  typeAnimated: true,
                  animation: 'zoom',
                  closeAnimation: 'zoom',
                  buttons: {
                      '确定': {
                          btnClass: 'btn-primary',
                          action: function () {
                              $(delId).parent().remove();
                          }
                      },
                      '取消': {
                          btnClass: 'btn-info'
                          //$.alert('you clicked on <strong>cancel</strong>');
                      }
                  }
              });

          }
      }

    </script>

</head>
<body>
<div id="header" class="container">
<div class="navbar-default navbar-fixed-top">
     <h1 class="text-left" id="Htitle"></h1>
     <span id="spanDate"></span>
    </div>
</div>
<div id="main" class="container">
    <div class="panel-body" >
        <div class="panel  panel-info"  id="inputdiv" style="display:block;" >

            <div class="panel-heading">
            <span class="panel-title">信息输入：</span>
            <h4 class="time-item">
	          距离您操作结束还有<span id="second_show" ></span>
             </h4>
            </div>
            <div class="panel-body">
                <h5>1、提示信息提示信息提示信息提示信息提示信息提示信息提示信息提示信息提示信息提示信息<br /></h5>
                <h5>2、提示信息提示信息提示信息提示信息提示信息提示信息提示信息提示信息提示信息提示信息<br /></h5>

                <button type="button" class="btn btn-primary  col-sm-2 btnMargin" id="btn_ok">确定</button>
                <button type="button" class="btn btn-primary  col-sm-2 btnMargin" id="btn_back" >返回</button>
            </div>
            <form class="form-horizontal" role="form"  >
                <div id="sectable">
                    <div class="form-group" id="secdiv_0">
                        <label for="inputName" class="col-sm-2 control-label">姓名：</label>
                        <div class="col-sm-3">
                        <input type="text" class="form-control test-input-method" id="txtsecname_0" placeholder="请输入你的姓名" name="inputName">
                        </div>
                        <label for="inputId" class="col-sm-2 control-label">年龄：</label>
                        <div class="col-sm-3">
                        <input type="text" class="form-control test-input-method" id="txtseczjhm_0" placeholder="请输入你的年龄"  name="inputId">
                        </div>
                        <button type="button" class="btn btn-info col-sm-1" id="btn_addmore">继续增加</button>
                    </div>
                </div>
            </form>

        </div>

   </div>
    <div id="keyboard" class="col-sm-12">
               <button type="button" class="btn btn-block col-sm-3" id="btn-diappear">点击隐藏键盘</button>
              <ul id="boardword">
		        <li class="gray firstitem">1</li>

		        <li class="gray">2</li>

		        <li class="gray">3</li>

		        <li class="gray">4</li>

		        <li class="gray">5</li>

		        <li class="gray">6</li>

		        <li class="gray">7</li>

		        <li class="gray">8</li>

		        <li class="gray">9</span></li>

		        <li class="gray">0</li>

		        <li class="letter firstitem">q</li>

		        <li class="letter">w</li>

		        <li class="letter">e</li>

		        <li class="letter">r</li>

		        <li class="letter">t</li>

		        <li class="letter">y</li>

		        <li class="letter">u</li>

		        <li class="letter">i</li>

		        <li class="letter">o</li>

		        <li class="letter">p</li>

		        <li class="firstitem capslock gray">大写</li>

		        <li class="letter">a</li>

		        <li class="letter">s</li>

		        <li class="letter">d</li>

		        <li class="letter">f</li>

		        <li class="letter">g</li>

		        <li class="letter">h</li>

		        <li class="letter">j</li>

		        <li class="letter">k</li>

		        <li class="letter">l</li>

		        <li class="firstitem left-shift gray">中</li>

		        <li class="letter">z</li>

		        <li class="letter">x</li>

		        <li class="letter">c</li>

		        <li class="letter">v</li>

		        <li class="letter">b</li>

		        <li class="letter">n</li>

		        <li class="letter">m</li>

		        <li class="right-shift lastitem delete gray">删除</li>

	        </ul>

    </div>

</div>



</body>
</html>
